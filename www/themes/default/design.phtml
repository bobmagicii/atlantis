<?php

require_once('theme.php');

$GetStylesheetURL = function(String $URI):String {
	if(ENV\DEV)
	return "{$URI}.php";

	return $URI;
};

?>
<!doctype html>
<html>
<head>
	<title><?php $surface->Show('page-title') ?></title>
	<link rel="icon" href="/themes/default/gfx/icon-fav.png" type="image/png">
	<link rel="shortcut icon" href="/themes/default/gfx/icon-fav.png" type="image/png">

	<!-- local packages -->
	<script type="text/javascript" src="<?php echo $GetStylesheetURL('/share/dist/scripts.js'); ?>"></script>
	<link type="text/css" rel="stylesheet" href="<?php echo $GetStylesheetURL('/share/dist/styles.css'); ?>" />
	<script type="text/javascript" src="<?php echo $GetStylesheetURL('/themes/default/js/scripts.js'); ?>"></script>
	<link type="text/css" rel="stylesheet" href="<?php echo $GetStylesheetURL('/themes/default/css/styles.css'); ?>" />

	<!-- remote libraries -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,400,400i,700,700i|Share+Tech+Mono&amp;subset=latin-ext" />
	<script type="text/javascript" src="https://www.google.com/recaptcha/api.js"></script>

	<!--
	<link rel="stylesheet" type="text/css" href="/share/other/dist/styles.css" />
	<script type="text/javascript" src="/share/other/dist/scripts.js"></script>
	-->
</head>
<body>

<header>
	<div class="container">
		<div class="row">
			<h1 class="col-auto">
				<a href="/">
					<img src="/themes/default/gfx/icon-tiny.png" alt="A" />
					<?php echo htmlentities(Nether\Option::Get('app-name')) ?>
				</a>
			</h1>
			<div class="col"></div>
			<?php Theme::RenderHeaderNavItems($Route->User) ?>
		</div>
	</div>
</header>

<?php

if($Surface->Get('Page.Promo') instanceof Atlantis\Element\PagePromo)
echo $Surface->Get('Page.Promo');

?>

<?php if($Route->Errors->Count()): ?>
<div class="ErrorTray">
<?php Theme::RenderInlineErrors($Route->Errors); ?>
</div>
<?php endif; ?>

<section>

<?php echo $Surface->Get('stdout') ?>

</section>

<footer>
	<div class="container">
		<div class="row">
			<div class="col-12 col-md-auto mb-4 mb-md-0">
				<code><?php Theme::RenderAppStats(); ?></code>
			</div>
			<div class="col-12 col-md mb-4 mb-md-0"></div>
			<div class="col-12 col-md-auto mb-4 mb-md-0">
				<a href="https://github.com/bobmagicii/atlantis" target="_blank"><i class="fa fa-github"></i> Github</a>
			</div>
		</div>
	</div>
</footer>

</body>
</html>