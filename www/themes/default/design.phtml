<?php

$User = Nether\Stash::Get('User');

$PageErrors = function(Nether\Object\Datastore $Errors):Void {
	$Errors->Each(function(Atlantis\Site\Error\Inline $Inline):Void {
		printf(
			'<div class="Contain Error"><div>%s%s</div></div>',
			($Inline->GetIcon())?
				("<i class=\"fa {$Inline->GetIcon()}\"></i> "):
				(''),
			$Inline->GetMessage()
		);
	});
};

?>
<!doctype html>
<html>
<head>
	<title><?php $surface->Show('page-title') ?></title>
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,400,400i,700,700i&amp;subset=latin-ext" />
	<link rel="stylesheet" type="text/css" href="/themes/default/design.css" />
	<link rel="stylesheet" type="text/css" href="/share/other/dist/styles.css" />
	<script type="text/javascript" src="/share/other/dist/scripts.js"></script>
	<script type="text/javascript" src="https://www.google.com/recaptcha/api.js"></script>
</head>
<body>

<header class="Contain"><div>
	<h1><i class="fa fa-hashtag"></i> <?php echo htmlentities(Nether\Option::Get('app-name')) ?></h1>
	<nav>
		<ul>
			<li><a href="/">Home</a></li>
<?php if($User): ?>
			<li><a href="/logout/">Logout</a></li>
<?php else: ?>
			<li><a href="/join/">Join</a></li>
			<li><a href="/login/">Login</a></li>
<?php endif; ?>
		</ul>
	</nav>
</div></header>

<div class="Contain Promo"><div>
	<section>
		<h2>Oh Snap</h2>
		<p>This theme is not even blue.</p>
		<p>With a name like that, you would think it would be.</p>
	</section>
	<hr class="FloatClear" />
</div></div>

<?php if($route->Errors->Count()) $PageErrors($route->Errors); ?>

<section class="Contain"><div>

<?php echo $surface->Get('stdout') ?>

</div></section>

<footer class="Contain"><div>
	this is a footer
	<ul>
		<li><a href="https://github.com/bobmagicii/atlantis" target="_blank"><i class="fa fa-github"></i> Github</a></li>
	</ul>
	<hr class="FloatClear" />
</div></footer>

</body>
</html>