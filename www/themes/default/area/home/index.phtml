<?php

echo new class
extends Atlantis\Page\TwoCol1x3 {

	public function
	OnConstruct():
	Void {
		parent::OnConstruct(...func_get_args());

		$this->GetClasses()
		->Push('Flip');

		$this->PopulateSidebar();

		$this->Main
		->Push('I am totally a thing.')
		->Push('So am I');

		return;
	}

	private function
	PopulateSidebar():
	Void {

		$this->Sidebar
		->Push($this->GetSidebarPopularBlogs());

		return;
	}

	private function
	GetSidebarPopularBlogs():
	Atlantis\Element {

		$Element = (new Atlantis\Element\TitleBox\ImageCloud)
		->SetTitle('Popular Blogs');

		$Element->GetClasses()
		->Push('C2');

		foreach($this->Surface->Get('Home.PopularBlogs') as $Blog) {
			$Element->GetItems()
			->Push(new Atlantis\Item([
				'Title'    => $Blog->GetTitle(),
				'Subtitle' => $Blog->GetTagline(),
				'ImageURL' => '/themes/default/gfx/icon-default.png',
				'URL'      => $Blog->GetURL()
			]));
		}

		return $Element;
	}

};
